{
  "sql":
  {
    "select":
    {
      "discipine_by_id":                        "SELECT * FROM Ref_Discipline WHERE id_disc = ?",
      "discipline_by_name":                     "SELECT * FROM Ref_Discipline WHERE discipline = ?",
      "event_by_teacher_id":                    "SELECT * FROM Evenement inner join Ref_Matiere ON Evenement.matiere = Ref_Matiere.id_mat Where Evenement.enseignant = ?",
      "all_absence_beetween_two_dates":         "SELECT * FROM Absence INNER JOIN Evenement ON Evenement.heure_debut > ? AND Evenement.heure_fin < ? AND Absence.evenement = Evenement.id_ev",
      "event_by_date_and_classroom":            "SELECT * FROM `Evenement` WHERE `heure_debut`=? AND `heure_fin`=? AND `classe`=? AND `salle`=?",
      "teacher_by_mail_password":               "SELECT * FROM Enseignant WHERE mail = ? AND PASSWORD = ?",
      "teacher_by_mail":                        "SELECT * FROM Enseignant WHERE mail = ?",
      "teacher_random_number":                  "SELECT random_number FROM Identification WHERE enseignant = ?",
      "available_teacher":                      "SELECT * FROM Enseignant WHERE NOT EXISTS( SELECT 1 FROM Evenement WHERE Evenement.enseignant = Enseignant.id_ens AND( ( Evenement.heure_debut > ? AND Evenement.heure_debut < ? ) OR( Evenement.heure_fin > ? AND Evenement.heure_fin < ? ) ))",
      "identification_by_teacher_id_password":  "SELECT * FROM Identification WHERE enseignant = ? AND mdp = ?",
      "identificationByTeacherID":              "SELECT * FROM Identification WHERE enseignant = ?",
      "teacher_profil":                         "SELECT * FROM Profil WHERE enseignant = ?",
      "course":                                 "SELECT * FROM Ref_Matiere WHERE matiere = ?",
      "absence_available":                      "SELECT * FROM `Evenement` as e Inner join Diffusion as d Inner join Enseignant as n Inner join Absence as a on e.id_ev = d.absence and n.id_ens = d.ens and a.evenement = e.id_ev where d.ens = ?; ",
      "discipline_by_nomenclature":             "SELECT id_disc FROM Ref_Discipline WHERE nomenclature = ?",
      "courses_by_absence":                     "SELECT Evenement.matiere FROM Evenement INNER JOIN Absence ON Absence.evenement = Evenement.id_ev WHERE Absence.id_abs = ?",
      "teacher_by_discipline":                  "SELECT * FROM Correspondance WHERE enseignant = ? AND discipline = ?",
      "nomenclature_by_matiere":                "SELECT nomenclature FROM Ref_Matiere WHERE id_mat = ?",
      "admin_by_mail_password":                 "SELECT * FROM Personnel_Administratif WHERE mail = ? AND password = ?",
      "unavailableTeacherByEtablishement":      "SELECT * FROM Enseignant INNER JOIN Absence ON Absence.teacherID = Enseignant.id_ens WHERE Enseignant.id_eta = ?",
      "diffusionByTeachers":                    "SELECT * FROM Diffusion INNER JOIN Absence ON Diffusion.absence = Absence.id_abs INNER JOIN Enseignant ON Enseignant.id_ens = Diffusion.ens WHERE ens = ?",
      "allProposedTeacher":                     "SELECT e.* FROM Enseignant e JOIN Proposition p ON e.id_ens = p.enseignant WHERE p.absence = ?",
      "searchTeacher":                          "SELECT * FROM Enseignant WHERE nom = ?",
      "teacher_is_available":                   "SET @date_event = ?;SET @h_d = ?;SET @h_f = ?;SET @ens = ?;SELECT COUNT(*) AS nb_event FROM Evenement WHERE `enseignant` = @ens AND `date` = @date_event AND((heure_debut < @h_d AND heure_fin > @h_d)OR(heure_debut < @h_f AND heure_fin > @h_f)OR(heure_debut = @h_d AND heure_fin = @h_f)OR(heure_debut >= @h_d AND heure_fin <= @h_f)OR(heure_debut <= @h_d AND heure_fin >= @h_f))",
      "all_teachers":                           "SELECT * FROM `Enseignant`",
      "teacher_is_available2":                  "SELECT COUNT(*) AS nb_event FROM Evenement WHERE `enseignant` = ? AND `date` = ? AND((heure_debut < ? AND heure_fin > ?)OR(heure_debut < ? AND heure_fin > ?)OR(heure_debut = ? AND heure_fin = ?)OR(heure_debut >= ? AND heure_fin <= ?)OR(heure_debut <= ? AND heure_fin >= ?))",
      "get_event":                              "SELECT * FROM `Evenement` WHERE id_ev = ?",
      "get_matiere_by_evenement":               "SELECT matiere FROM Evenement WHERE id_ev = ?",
      "classeByName" :                          "SELECT * FROM Ref_Classe WHERE classe = ?",
      "teacherLikeName" :                       "SELECT * FROM Enseignant WHERE nom LIKE ?",
      "allTeacherAvailableTheTrueOne" :         "SELECT Enseignant.id_ens as id FROM Enseignant WHERE EXISTS (SELECT * FROM Enseignant inner join Evenement on Evenement.enseignant = Enseignant.id_ens and Evenement.date = ? and ( (Evenement.heure_debut BETWEEN ? and ?) or (Evenement.heure_fin BETWEEN ? and ?) ) and ( (? BETWEEN heure_debut and heure_fin) or (? BETWEEN heure_debut and heure_fin) ) );",
      "allTeacherCompatibleWithDisc" :          "select c.enseignant as id from Correspondance as c inner join Absence as a inner join Ref_Matiere as rm inner join Ref_Discipline as rd ON a.matiere = rm.id_mat and rm.nomenclature = rd.nomenclature and c.discipline = rd.id_disc where a.id_abs = ?;",
      "teacherLink" :                           "select * from Links where teacher = ? ",
      "absence":                                "select * from Absence where start = ? and end = ? and date = ? and teacherID = ?",
      "yourReplace" :                           "select * from Remplacement inner join Enseignant on Enseignant.id_ens = Remplacement.enseignant where Enseignant.id_eta = ?",
      "diffusionByAbsence" :                    "SELECT * FROM Enseignant INNER JOIN Diffusion ON Enseignant.id_ens = Diffusion.ens WHERE Diffusion.absence = ?"


    },
    "insert":
    {
      "event":                                   "INSERT INTO Evenement (salle, date, heure_debut, heure_fin, classe, matiere, enseignant) VALUES (?,?,?,?,?,?,?)",
      "discipline":                              "INSERT IGNORE INTO Ref_Discipline (discipline) VALUES (?)",
      "absence":                                 "INSERT INTO `Absence`(`motif`, `start`, `end`, `date`, `matiere`, `teacherID`) SELECT ?, ?, ?, ?, (SELECT id_mat FROM Ref_Matiere WHERE libelle_court = ?) ,? FROM DUAL WHERE NOT EXISTS ( SELECT * FROM `Absence` WHERE `date` = ? AND ((`start` <= ? AND `end` >= ?) OR (`start` <= ? AND `end` >= ?)) AND `teacherID` = ? );",
      "teacher":                                 "INSERT INTO `Enseignant` (mail, password, nom, prenom, random_number, valide) VALUES (?,?,?,?,?,?)",
      "identification":                          "INSERT INTO `Identification` (mdp, valide, random_number, enseignant) VALUES (?,?,?,?)",
      "profil":                                  "INSERT INTO Profil (enseignant) values (?)",
      "proposition":                             "INSERT INTO `Proposition`(`enseignant`, `absence`) VALUES (?,?)",
      "remplacement":                            "INSERT INTO `Remplacement`(`horodatage_remp`, `enseignant`, `proposition`) VALUES (NULL,?,?)",
      "diffusion" :                              "INSERT INTO `Diffusion`(`ens`, `absence`) VALUES ( ? , ? )",
      "linkTeacherClasse" :                      "INSERT INTO Panel (enseignant, classe) VALUES (?, ?)",
      "link" :                                   "INSERT INTO Links (link, teacher) VALUES (?, ?)" 
    },
    "update":
    {
      "teacher_validation":                      "UPDATE Identification SET valide = 1 WHERE enseignant = ?"
    },
    "delete":
    {
      "teacher_diffusion":                       "DELETE FROM `Diffusion` WHERE `ens`= ? AND `absence`=?"
    }
  }
}